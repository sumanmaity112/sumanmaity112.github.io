---
layout: post
title: Is it the era of mono-repo?
canonical_url: https://medium.com/@suman.maity112/is-it-the-era-of-mono-repo-671e6dee387?source=rss-92eeb3145de9------2
tag:
- version-control
- multi-repo
- monorepo
---

<figure><img alt="" src="https://cdn-images-1.medium.com/max/846/1*3_jFMXz-0YlWjgoECgRk3A.png" /><figcaption>mono-repo heading</figcaption></figure><h3>What exactly is mono-repo?</h3><p>A mono-repository is a version-controlled repository that contains many related but independent projects. These can be managed by the same team or multiple teams.<br>Mono-repos are sometimes called “monolithic repositories” but let’s not get confused with <a href="https://en.wikipedia.org/wiki/Monolithic_application">monolithic software architecture</a>.</p><h3>What exactly is multi-repo?</h3><p>When a project receives its own version-controlled repository, it is called multi-repo structure, which is the exact opposite of mono-repo. Currently, the majority of developers uses multi-repo structure to maintain their projects.</p><h3>What are the advantages of mono-repo?</h3><p>Monorepo has many advantages, but I’ll just mention a few here:</p><ul><li><strong>Consistency</strong>: Because all of the projects are stored in the same repository, we can easily enforce the same coding style across all of them.</li><li><strong>Simpler dependency management</strong>: Using a modern dependency management tool makes it incredibly easy and simple to distribute dependencies among all the projects. Additionally, the package download for each project will be optimised depending on the package manager. Indirectly, the dependency tree will be simpler and cleaner.</li><li><strong>Easy patch management</strong>: Since all of the shared dependencies are in one place, we can quickly upgrade all of the projects’ versions of them. This saves us a lot of time, which allows us to perform more exciting work.</li><li><strong>Easy onboarding process</strong>: When a new member joins the team, it becomes simpler for them to understand the code and business flow as all the code is in the same repository.</li><li><strong>Unified build process</strong>: We can easily reuse the build process across projects.</li><li><strong>Easy global refactoring</strong>: We can easily refactor connected business flow across projects with the help of IDE.</li></ul><h3>What are the drawbacks of mono-repo?</h3><p>With lots of benefits, monorepo has a couple of drawbacks. Those are as follows:</p><ul><li><strong>Large codebase</strong>: The codebase eventually grows very huge because all the projects are kept in the same repository.</li><li><strong>Lengthy CI/CD process</strong>: (<em>Can be managed by advanced build tools.</em>) As all the projects are in the same repository, sometimes we need to unnecessarily build and test projects that do not have any code changes. It increases the code-to-production time.</li><li><strong>Heavy version control history</strong>: With a large codebase, version control history also becomes very heavy. It takes a long time to initially clone the repository on the local development system. It also creates issues when we are trying to find a <strong>bad</strong> commit.</li><li><strong>Learning curve</strong>: Once the codebase becomes large, it might impact the learning curve of a new team member.</li></ul><h3>How can you move from multi-repo to mono-repo?</h3><p>After knowing both the side of mono-repo structure, if you want to switch from multi-repo to mono-repo; all you have to do is move the relevant projects to the new repository. In this new repository, each project can have its own folder. Once every project has been migrated to a single repository, attempt to move shared dependencies, configurations, and CI/CD workflows to the root level. Test your application once it is complete to ensure that every feature works as expected.. If everything works fine, then voila! You have successfully created a mono-repo project structure 🎊👏.</p><h3>Best practices for mono-repo project structure</h3><p>Mono-repo makes a couple of things a little more complex than usual multi-repo projects, but if we keep the following points in mind, life can be a little simpler:</p><ul><li><strong>Invest in tools: </strong>you need to find and use suitable tools to manage monorepo. For example, <a href="https://lerna.js.org/">Lerna</a> makes it very easy to manage Node.js mono-repo projects. There are other tools like <a href="https://bazel.build/">Bazel</a>, <a href="https://buck.build/">Buck</a>, etc. that support multiple languages.</li><li><strong>Add proper tests</strong>: Add multiple levels of automated tests (unit tests, integration tests, architecture fitness tests, etc.) to keep the main branch clean.</li><li><strong>Better CI/CD process</strong>: With better and faster CI/CD, the code-to-production time issue can also be minimised. Therefore, we have to use suitable and modern CI/CD.</li></ul><h3>Conclusion</h3><p>As you can see, monorepo has lots of benefits and drawbacks. Now, if your question is, “Should I use Monorepo for real-life projects?” Then the simple answer is, “It depends.” 😅. There is no straight answer for this question. For some teams, it might be better to start with mono-repo over multi-repo or vice versa. It doesn’t matter what we choose; it can be changed in the future. We have to keep in mind that it’s not about the technology; it’s about communication and collaboration among team members.</p><p><em>PS: I hope you’ve enjoyed it, and if you’ve found it useful, please feel free to share it with others or leave a comment.</em></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=671e6dee387" width="1" height="1" alt="">
